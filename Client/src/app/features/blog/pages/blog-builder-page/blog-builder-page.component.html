<div>
  <mat-card class="builder-toolbar">
    <div>
      <app-code-selector (selected)="onCodeSelection($event)" matTooltip="Insert code block"></app-code-selector>
      <app-horizontal-line (clicked)="onHorizontalLine()" matTooltip="Insert horizontal line"></app-horizontal-line>
      <button mat-button [cdkCopyToClipboard]="sourceControl.value ?? ''">
        <mat-icon>content_copy</mat-icon>
        Copy
      </button>
    </div>
  </mat-card>
  <div class="content">
    <div class="source-wrapper">
      <mat-form-field appearance="fill">
        <mat-label >Source</mat-label>
        <textarea #source clipboard (input)="onSourceInput($event)" (click)="onSourceClick($event)" (keydown)="handleKeydown($event)" matInput [formControl]="sourceControl"></textarea>
      </mat-form-field>
    </div>
    <div class="result-wrapper background">
      <markdown  id="md" emoji  lineNumbers lineHighlight [data]="((sourceControl.valueChanges | async ) ?? '')">
      </markdown>
    </div>
  </div>


</div>
